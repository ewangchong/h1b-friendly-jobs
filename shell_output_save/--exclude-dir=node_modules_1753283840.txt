./src/components/JobFeedback.tsx:        `https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/job-feedback-handler?job_id=${jobId}`,
./src/components/JobFeedback.tsx:        'https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/job-feedback-handler',
./src/lib/supabase.ts:const supabaseUrl = 'https://qogxbfgkrtullrvjgrrf.supabase.co'
./docs/Production_Implementation_Summary.md:- **Edge Functions:** https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/
./docs/End_to_End_Testing_Report.md:curl -X POST "https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/scraping-orchestrator" \
./docs/Implementation_Status_Summary.md:- **Edge Functions**: https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/
./docs/Final_Platform_Improvements_Report.md:**Deployment:** https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/advanced-indeed-scraper  
./docs/Final_Platform_Improvements_Report.md:**Deployment:** https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/job-feedback-handler  
./docs/H1B_Scraping_System_Documentation.md:- **API Endpoints**: `https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/`
./docs/H1B_Scraping_System_Documentation.md:curl -X POST "https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/nlp-h1b-classifier" \
./docs/H1B_Scraping_System_Documentation.md:curl -X POST "https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/scraping-orchestrator" \
./docs/Technical_Solution_Details.md:**Deployment:** `https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/job-data-generator`
./docs/Admin_System_Implementation_Report.md:// Endpoint: https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/admin-auth
./docs/Admin_System_Implementation_Report.md:- **Admin Auth API**: https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/admin-auth
./docs/Quick_Start_Guide.md:curl -X POST "https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/scraping-orchestrator" \
./docs/Quick_Start_Guide.md:curl -X POST "https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/scraping-admin?action=export_data" \
./supabase/cron_jobs/job_1.json:{"cron_job_id": 1, "cron_expression": "0 */6 * * *", "edge_function_name": "scheduled-scraping", "cron_job_name": "scheduled-scraping_invoke", "raw_sql": "\n            CREATE OR REPLACE PROCEDURE scheduled_scraping_dc8ddfea()\n            LANGUAGE plpgsql\n            AS $$\n            BEGIN\n            PERFORM net.http_post(\n            url:='https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/scheduled-scraping',\n            headers:=jsonb_build_object('Content-Type', 'application/json'),\n            body:='{\"edge_function_name\":\"scheduled-scraping\"}',\n            timeout_milliseconds:=10000\n            );\n            COMMIT;\n            END;\n            $$;\n\n            SELECT cron.schedule('scheduled-scraping_invoke', '0 */6 * * *', 'CALL scheduled_scraping_dc8ddfea()');\n            "}
./dist/assets/index-piDzlKUW.js:`);const M=await D.signMessage(new TextEncoder().encode(N),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=M}}try{const{data:_,error:$}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Ib(P)},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:jr});if($)throw $;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Lo}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:$})}catch(_){if(fe(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(r){const s=await $s(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(s??"").split("/");try{const{data:u,error:d}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:jr});if(await Gr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Lo}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(fe(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:s,provider:o,token:l,access_token:u,nonce:d}=r,f=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:jr}),{data:p,error:g}=f;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Lo}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,o,l,u,d;try{if("email"in r){const{email:f,options:p}=r;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Rn(this.storage,this.storageKey));const{error:x}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in r){const{phone:f,options:p}=r,{data:g,error:y}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y}}throw new Io("You must provide either an email or phone number.")}catch(f){if(fe(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(r){var s,o;try{let l,u;"options"in r&&(l=(s=r.options)===null||s===void 0?void 0:s.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:f}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:jr});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(r){var s,o,l;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await Rn(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:t1})}catch(u){if(fe(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)throw o;if(!s)throw new es;const{error:l}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:d}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:d,error:f}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new Io("You must provide either an email or phone number and a type")}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await $s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<iu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const d=await $s(this.userStorage,this.storageKey+"-user");d!=null&&d.user?r.user=d.user:r.user=lu()}if(this.storage.isServer&&r.user){let d=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,g,y)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,y))})}return{data:{session:r},error:null}}const{session:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:ss}):await this._useSession(async s=>{var o,l,u;const{data:d,error:f}=s;if(f)throw f;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new es}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:ss})})}catch(s){if(fe(s))return Cb(s)&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new es;const d=l.session;let f=null,p=null;this.flowType==="pkce"&&r.email!=null&&([f,p]=await Rn(this.storage,this.storageKey));const{data:g,error:y}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:ss});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(o){if(fe(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new es;const s=Date.now()/1e3;let o=s,l=!0,u=null;const{payload:d}=ou(r.access_token);if(d.exp&&(o=d.exp,l=o<=s),l){const{session:f,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(s){if(fe(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var o;if(!r){const{data:d,error:f}=s;if(f)throw f;r=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new es;const{session:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!Gt())throw new $o("No browser detected.");if(r.error||r.error_description||r.error_code)throw new $o(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Zm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $o("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Zm("No code detected.");const{data:H,error:L}=await this._exchangeCodeForSession(r.code);if(L)throw L;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:f,expires_at:p,token_type:g}=r;if(!u||!f||!d||!g)throw new $o("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(f);let w=y+x;p&&(w=parseInt(p));const b=w-y;b*1e3<=$n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const N=w-x;y-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,y):y-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,y);const{data:P,error:_}=await this._getUser(u);if(_)throw _;const $={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:x,expires_at:w,refresh_token:d,token_type:g,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:r.type},error:null}}catch(o){if(fe(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await $s(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return{error:u};const d=(o=l.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:f}=await this.admin.signOut(d,r);if(f&&!(Sb(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return r!=="others"&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=Mb(),o={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async s=>{var o,l;try{const{data:{session:u},error:d}=s;if(d)throw d;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,s={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Rn(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(fe(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}}async linkIdentity(r){var s;try{const{data:o,error:l}=await this._useSession(async u=>{var d,f,p,g,y;const{data:x,error:w}=u;if(w)throw w;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return Gt()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:r.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(fe(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async s=>{var o,l;const{data:u,error:d}=s;if(d)throw d;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await zb(async l=>(l>0&&await Ub(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:jr})),(l,u)=>{const d=200*Math.pow(2,l);return u&&au(u)&&Date.now()+d-o<$n})}catch(o){if(this._debug(s,"error",o),fe(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",o),Gt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await $s(this.storage,this.storageKey);if(l&&this.userStorage){let d=await $s(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Mn(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d==null?void 0:d.user)!==null&&r!==void 0?r:lu()}else if(l&&!l.user&&!l.user){const d=await $s(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await Gr(this.storage,this.storageKey+"-user"),await Mn(this.storage,this.storageKey,l)):l.user=lu()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<iu;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${iu}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),au(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var s,o;if(!r)throw new es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Go;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new es;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={session:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),fe(u)){const d={session:null,error:u};return au(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,s,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,s)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await Mn(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=np(l);await Mn(this.storage,this.storageKey,u)}else{const l=np(s);await Mn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Gr(this.storage,this.storageKey),await Gr(this.storage,this.storageKey+"-code-verifier"),await Gr(this.storage,this.storageKey+"-user"),this.userStorage&&await Gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),$n);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/$n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${$n}ms, refresh threshold is ${Mu} ticks`),l<=Mu&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof wg)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,o){const l=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,d]=await Rn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;return u?{data:null,error:u}:await be(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var o,l;const{data:u,error:d}=s;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:p,error:g}=await be(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return g?{data:null,error:g}:(r.factorType==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return{data:null,error:u};const{data:d,error:f}=await be(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(s){if(fe(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;return u?{data:null,error:u}:await be(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(fe(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=(r==null?void 0:r.factors)||[],l=o.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=o.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:o,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,o;const{data:{session:l},error:u}=r;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=ou(l.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(r,s={keys:[]}){let o=s.keys.find(f=>f.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===r),o&&this.jwks_cached_at+Nb>l)return o;const{data:u,error:d}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(f=>f.kid===r),!o)?null:o}async getClaims(r,s={}){try{let o=r;if(!o){const{data:b,error:N}=await this.getSession();if(N||!b.session)return{data:null,error:N};o=b.session.access_token}const{header:l,payload:u,signature:d,raw:{header:f,payload:p}}=ou(o);s!=null&&s.allowExpired||Qb(u.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!g){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:u,header:l,signature:d},error:null}}const y=Kb(l.alg),x=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,d,Lb(`${f}.${p}`)))throw new Uu("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(o){if(fe(o))return{data:null,error:o};throw o}}}oa.nextInstanceID=0;const d1=oa;class h1 extends d1{constructor(r){super(r)}}var f1=function(n,r,s,o){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function f(y){try{g(o.next(y))}catch(x){d(x)}}function p(y){try{g(o.throw(y))}catch(x){d(x)}}function g(y){y.done?u(y.value):l(y.value).then(f,p)}g((o=o.apply(n,r||[])).next())})};class m1{constructor(r,s,o){var l,u,d;if(this.supabaseUrl=r,this.supabaseKey=s,!r)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const f=xb(r),p=new URL(f);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:ub,realtime:hb,auth:Object.assign(Object.assign({},db),{storageKey:g}),global:cb},x=vb(o??{},y);this.storageKey=(l=x.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=x.global.headers)!==null&&u!==void 0?u:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(w,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=x.auth)!==null&&d!==void 0?d:{},this.headers,x.global.fetch),this.fetch=gb(s,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new Rw(new URL("rest/v1",p).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),x.accessToken||this._listenForAuthEvents()}get functions(){return new ww(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ab(this.storageUrl.href,this.headers,this.fetch)}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},o={}){return this.rest.rpc(r,s,o)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,s;return f1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:l,storageKey:u,flowType:d,lock:f,debug:p},g,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h1({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),g),storageKey:u,autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:l,flowType:d,lock:f,debug:p,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new Jw(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(r,s,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const p1=(n,r,s)=>new m1(n,r,s),g1="https://qogxbfgkrtullrvjgrrf.supabase.co",y1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFvZ3hiZmdrcnR1bGxydmpncnJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwOTQ1MzYsImV4cCI6MjA2ODY3MDUzNn0.MMdKgUDKl9X-1JVVpGOLX3xQkdt7Y235i-MQGiNfVd4",le=p1(g1,y1),bg=O.createContext(void 0);function x1({children:n}){const[r,s]=O.useState(null),[o,l]=O.useState(!0);O.useEffect(()=>{async function g(){l(!0);try{const{data:{user:x}}=await le.auth.getUser();s(x)}catch(x){console.error("Error loading user:",x)}finally{l(!1)}}g();const{data:{subscription:y}}=le.auth.onAuthStateChange((x,w)=>{s((w==null?void 0:w.user)||null),(x==="SIGNED_IN"||x==="SIGNED_OUT")&&l(!1)});return()=>y.unsubscribe()},[]);async function u(g,y){return await le.auth.signInWithPassword({email:g,password:y})}async function d(g,y,x){const{data:w,error:b}=await le.auth.signUp({email:g,password:y,options:{data:{full_name:x||""},emailRedirectTo:`${window.location.protocol}//${window.location.host}/auth/callback`}});return{data:w,error:b}}async function f(){return await le.auth.signOut()}async function p(){const{data:{user:g},error:y}=await le.auth.getUser();return y?(console.error("Error getting user:",y),null):g}return a.jsx(bg.Provider,{value:{user:r,loading:o,signIn:u,signUp:d,signOut:f,getCurrentUser:p},children:n})}function Tr(){const n=O.useContext(bg);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}/**
./dist/assets/index-piDzlKUW.js: */const ca=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Cg(n){var r,s,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var l=n.length;for(r=0;r<l;r++)n[r]&&(s=Cg(n[r]))&&(o&&(o+=" "),o+=s)}else for(s in n)n[s]&&(o&&(o+=" "),o+=s);return o}function Eg(){for(var n,r,s=0,o="",l=arguments.length;s<l;s++)(n=arguments[s])&&(r=Cg(n))&&(o&&(o+=" "),o+=r);return o}const hp=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,fp=Eg,z1=(n,r)=>s=>{var o;if((r==null?void 0:r.variants)==null)return fp(n,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:l,defaultVariants:u}=r,d=Object.keys(l).map(g=>{const y=s==null?void 0:s[g],x=u==null?void 0:u[g];if(y===null)return null;const w=hp(y)||hp(x);return l[g][w]}),f=s&&Object.entries(s).reduce((g,y)=>{let[x,w]=y;return w===void 0||(g[x]=w),g},{}),p=r==null||(o=r.compoundVariants)===null||o===void 0?void 0:o.reduce((g,y)=>{let{class:x,className:w,...b}=y;return Object.entries(b).every(N=>{let[P,_]=N;return Array.isArray(_)?_.includes({...u,...f}[P]):{...u,...f}[P]===_})?[...g,x,w]:g},[]);return fp(n,d,p,s==null?void 0:s.class,s==null?void 0:s.className)},ud="-",B1=n=>{const r=H1(n),{conflictingClassGroups:s,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:d=>{const f=d.split(ud);return f[0]===""&&f.length!==1&&f.shift(),Pg(f,r)||q1(d)},getConflictingClassGroupIds:(d,f)=>{const p=s[d]||[];return f&&o[d]?[...p,...o[d]]:p}}},Pg=(n,r)=>{var d;if(n.length===0)return r.classGroupId;const s=n[0],o=r.nextPart.get(s),l=o?Pg(n.slice(1),o):void 0;if(l)return l;if(r.validators.length===0)return;const u=n.join(ud);return(d=r.validators.find(({validator:f})=>f(u)))==null?void 0:d.classGroupId},mp=/^\[(.+)\]$/,q1=n=>{if(mp.test(n)){const r=mp.exec(n)[1],s=r==null?void 0:r.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},H1=n=>{const{theme:r,prefix:s}=n,o={nextPart:new Map,validators:[]};return W1(Object.entries(n.classGroups),s).forEach(([u,d])=>{Wu(d,o,u,r)}),o},Wu=(n,r,s,o)=>{n.forEach(l=>{if(typeof l=="string"){const u=l===""?r:pp(r,l);u.classGroupId=s;return}if(typeof l=="function"){if(V1(l)){Wu(l(o),r,s,o);return}r.validators.push({validator:l,classGroupId:s});return}Object.entries(l).forEach(([u,d])=>{Wu(d,pp(r,u),s,o)})})},pp=(n,r)=>{let s=n;return r.split(ud).forEach(o=>{s.nextPart.has(o)||s.nextPart.set(o,{nextPart:new Map,validators:[]}),s=s.nextPart.get(o)}),s},V1=n=>n.isThemeGetter,W1=(n,r)=>r?n.map(([s,o])=>{const l=o.map(u=>typeof u=="string"?r+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([d,f])=>[r+d,f])):u);return[s,l]}):n,J1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,o=new Map;const l=(u,d)=>{s.set(u,d),r++,r>n&&(r=0,o=s,s=new Map)};return{get(u){let d=s.get(u);if(d!==void 0)return d;if((d=o.get(u))!==void 0)return l(u,d),d},set(u,d){s.has(u)?s.set(u,d):l(u,d)}}},Tg="!",Q1=n=>{const{separator:r,experimentalParseClassName:s}=n,o=r.length===1,l=r[0],u=r.length,d=f=>{const p=[];let g=0,y=0,x;for(let _=0;_<f.length;_++){let $=f[_];if(g===0){if($===l&&(o||f.slice(_,_+u)===r)){p.push(f.slice(y,_)),y=_+u;continue}if($==="/"){x=_;continue}}$==="["?g++:$==="]"&&g--}const w=p.length===0?f:f.substring(y),b=w.startsWith(Tg),N=b?w.substring(1):w,P=x&&x>y?x-y:void 0;return{modifiers:p,hasImportantModifier:b,baseClassName:N,maybePostfixModifierPosition:P}};return s?f=>s({className:f,parseClassName:d}):d},K1=n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(o=>{o[0]==="["?(r.push(...s.sort(),o),s=[]):s.push(o)}),r.push(...s.sort()),r},G1=n=>({cache:J1(n.cacheSize),parseClassName:Q1(n),...B1(n)}),Y1=/\s+/,X1=(n,r)=>{const{parseClassName:s,getClassGroupId:o,getConflictingClassGroupIds:l}=r,u=[],d=n.trim().split(Y1);let f="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{modifiers:y,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:b}=s(g);let N=!!b,P=o(N?w.substring(0,b):w);if(!P){if(!N){f=g+(f.length>0?" "+f:f);continue}if(P=o(w),!P){f=g+(f.length>0?" "+f:f);continue}N=!1}const _=K1(y).join(":"),$=x?_+Tg:_,H=$+P;if(u.includes(H))continue;u.push(H);const L=l(P,N);for(let D=0;D<L.length;++D){const C=L[D];u.push($+C)}f=g+(f.length>0?" "+f:f)}return f};function Z1(){let n=0,r,s,o="";for(;n<arguments.length;)(r=arguments[n++])&&(s=Og(r))&&(o&&(o+=" "),o+=s);return o}const Og=n=>{if(typeof n=="string")return n;let r,s="";for(let o=0;o<n.length;o++)n[o]&&(r=Og(n[o]))&&(s&&(s+=" "),s+=r);return s};function ej(n,...r){let s,o,l,u=d;function d(p){const g=r.reduce((y,x)=>x(y),n());return s=G1(g),o=s.cache.get,l=s.cache.set,u=f,f(p)}function f(p){const g=o(p);if(g)return g;const y=X1(p,s);return l(p,y),y}return function(){return u(Z1.apply(null,arguments))}}const Me=n=>{const r=s=>s[n]||[];return r.isThemeGetter=!0,r},Rg=/^\[(?:([a-z-]+):)?(.+)\]$/i,tj=/^\d+\/\d+$/,rj=new Set(["px","full","screen"]),sj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ij=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wr=n=>Fn(n)||rj.has(n)||tj.test(n),Yr=n=>ai(n,"length",pj),Fn=n=>!!n&&!Number.isNaN(Number(n)),du=n=>ai(n,"number",Fn),Gi=n=>!!n&&Number.isInteger(Number(n)),lj=n=>n.endsWith("%")&&Fn(n.slice(0,-1)),pe=n=>Rg.test(n),Xr=n=>sj.test(n),cj=new Set(["length","size","percentage"]),uj=n=>ai(n,cj,Ag),dj=n=>ai(n,"position",Ag),hj=new Set(["image","url"]),fj=n=>ai(n,hj,yj),mj=n=>ai(n,"",gj),Yi=()=>!0,ai=(n,r,s)=>{const o=Rg.exec(n);return o?o[1]?typeof r=="string"?o[1]===r:r.has(o[1]):s(o[2]):!1},pj=n=>nj.test(n)&&!ij.test(n),Ag=()=>!1,gj=n=>aj.test(n),yj=n=>oj.test(n),xj=()=>{const n=Me("colors"),r=Me("spacing"),s=Me("blur"),o=Me("brightness"),l=Me("borderColor"),u=Me("borderRadius"),d=Me("borderSpacing"),f=Me("borderWidth"),p=Me("contrast"),g=Me("grayscale"),y=Me("hueRotate"),x=Me("invert"),w=Me("gap"),b=Me("gradientColorStops"),N=Me("gradientColorStopPositions"),P=Me("inset"),_=Me("margin"),$=Me("opacity"),H=Me("padding"),L=Me("saturate"),D=Me("scale"),C=Me("sepia"),M=Me("skew"),ee=Me("space"),ge=Me("translate"),he=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],ue=()=>["auto",pe,r],se=()=>[pe,r],Ce=()=>["",wr,Yr],Be=()=>["auto",Fn,pe],Et=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ke=()=>["solid","dashed","dotted","double","none"],Le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",pe],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[Fn,pe];return{cacheSize:500,separator:":",theme:{colors:[Yi],spacing:[wr,Yr],blur:["none","",Xr,pe],brightness:T(),borderColor:[n],borderRadius:["none","","full",Xr,pe],borderSpacing:se(),borderWidth:Ce(),contrast:T(),grayscale:ne(),hueRotate:T(),invert:ne(),gap:se(),gradientColorStops:[n],gradientColorStopPositions:[lj,Yr],inset:ue(),margin:ue(),opacity:T(),padding:se(),saturate:T(),scale:T(),sepia:ne(),skew:T(),space:se(),translate:se()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Xr]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Et(),pe]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:he()}],"overscroll-x":[{"overscroll-x":he()}],"overscroll-y":[{"overscroll-y":he()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[P]}],"inset-x":[{"inset-x":[P]}],"inset-y":[{"inset-y":[P]}],start:[{start:[P]}],end:[{end:[P]}],top:[{top:[P]}],right:[{right:[P]}],bottom:[{bottom:[P]}],left:[{left:[P]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gi,pe]}],basis:[{basis:ue()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",Gi,pe]}],"grid-cols":[{"grid-cols":[Yi]}],"col-start-end":[{col:["auto",{span:["full",Gi,pe]},pe]}],"col-start":[{"col-start":Be()}],"col-end":[{"col-end":Be()}],"grid-rows":[{"grid-rows":[Yi]}],"row-start-end":[{row:["auto",{span:[Gi,pe]},pe]}],"row-start":[{"row-start":Be()}],"row-end":[{"row-end":Be()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[H]}],px:[{px:[H]}],py:[{py:[H]}],ps:[{ps:[H]}],pe:[{pe:[H]}],pt:[{pt:[H]}],pr:[{pr:[H]}],pb:[{pb:[H]}],pl:[{pl:[H]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[ee]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ee]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,r]}],"min-w":[{"min-w":[pe,r,"min","max","fit"]}],"max-w":[{"max-w":[pe,r,"none","full","min","max","fit","prose",{screen:[Xr]},Xr]}],h:[{h:[pe,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Xr,Yr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",du]}],"font-family":[{font:[Yi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",Fn,du]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[$]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[$]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ke(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wr,Yr]}],"underline-offset":[{"underline-offset":["auto",wr,pe]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:se()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[$]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Et(),dj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fj]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[$]}],"border-style":[{border:[...Ke(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[$]}],"divide-style":[{divide:Ke()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...Ke()]}],"outline-offset":[{"outline-offset":[wr,pe]}],"outline-w":[{outline:[wr,Yr]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:Ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[$]}],"ring-offset-w":[{"ring-offset":[wr,Yr]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Xr,mj]}],"shadow-color":[{shadow:[Yi]}],opacity:[{opacity:[$]}],"mix-blend":[{"mix-blend":[...Le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Le()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[o]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Xr,pe]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[x]}],saturate:[{saturate:[L]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[$]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Gi,pe]}],"translate-x":[{"translate-x":[ge]}],"translate-y":[{"translate-y":[ge]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":se()}],"scroll-mx":[{"scroll-mx":se()}],"scroll-my":[{"scroll-my":se()}],"scroll-ms":[{"scroll-ms":se()}],"scroll-me":[{"scroll-me":se()}],"scroll-mt":[{"scroll-mt":se()}],"scroll-mr":[{"scroll-mr":se()}],"scroll-mb":[{"scroll-mb":se()}],"scroll-ml":[{"scroll-ml":se()}],"scroll-p":[{"scroll-p":se()}],"scroll-px":[{"scroll-px":se()}],"scroll-py":[{"scroll-py":se()}],"scroll-ps":[{"scroll-ps":se()}],"scroll-pe":[{"scroll-pe":se()}],"scroll-pt":[{"scroll-pt":se()}],"scroll-pr":[{"scroll-pr":se()}],"scroll-pb":[{"scroll-pb":se()}],"scroll-pl":[{"scroll-pl":se()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[wr,Yr,du]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vj=ej(xj);function wj(...n){return vj(Eg(n))}function oi(n,r,s="USD"){if(!n&&!r)return"Salary not specified";const o=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:0}).format(l);return n&&r?n===r?o(n):`${o(n)} - ${o(r)}`:n?`${o(n)}+`:r?`Up to ${o(r)}`:"Salary not specified"}function bj(n){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(new Date(n))}function ya(n){const r=new Date(n),o=Math.abs(new Date().getTime()-r.getTime()),l=Math.ceil(o/(1e3*60*60*24));return l===1?"1 day ago":l<7?`${l} days ago`:l<30?`${Math.floor(l/7)} weeks ago`:l<365?`${Math.floor(l/30)} months ago`:`${Math.floor(l/365)} years ago`}function tl(n,r){return n?r&&r>=.9?{text:"H1B Sponsorship Available",color:"bg-green-100 text-green-800"}:r&&r>=.7?{text:"Likely H1B Sponsorship",color:"bg-yellow-100 text-yellow-800"}:{text:"Possible H1B Sponsorship",color:"bg-blue-100 text-blue-800"}:{text:"No H1B Sponsorship",color:"bg-red-100 text-red-800"}}function dd(n){switch(n==null?void 0:n.toLowerCase()){case"entry":return"bg-green-100 text-green-800";case"mid":return"bg-blue-100 text-blue-800";case"senior":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}}const jj=z1("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=O.forwardRef(({className:n,variant:r,size:s,asChild:o=!1,...l},u)=>a.jsx("button",{className:wj(jj({variant:r,size:s,className:n})),ref:u,...l}));J.displayName="Button";function _j(){const[n,r]=O.useState(!1),[s,o]=O.useState(!1),{user:l,signOut:u}=Tr(),d=vs(),f=async()=>{try{await u(),G.success("Signed out successfully"),d("/")}catch{G.error("Error signing out")}};return a.jsx("header",{className:"bg-white shadow-sm border-b",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs(me,{to:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"H1B"})}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"H1B Friendly"})]}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[a.jsxs(me,{to:"/jobs",className:"text-gray-600 hover:text-gray-900 transition-colors flex items-center space-x-1",children:[a.jsx(ur,{className:"w-4 h-4"}),a.jsx("span",{children:"Jobs"})]}),a.jsxs(me,{to:"/companies",className:"text-gray-600 hover:text-gray-900 transition-colors flex items-center space-x-1",children:[a.jsx(cr,{className:"w-4 h-4"}),a.jsx("span",{children:"Companies"})]}),l&&a.jsxs(me,{to:"/saved-jobs",className:"text-gray-600 hover:text-gray-900 transition-colors flex items-center space-x-1",children:[a.jsx(Zn,{className:"w-4 h-4"}),a.jsx("span",{children:"Saved Jobs"})]})]}),a.jsx("div",{className:"hidden md:flex items-center space-x-4",children:l?a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>o(!s),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(Vu,{className:"w-5 h-5"}),a.jsx("span",{className:"max-w-32 truncate",children:l.email})]}),s&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border",children:[a.jsx(me,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:"Profile Settings"}),a.jsx(me,{to:"/saved-jobs",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:"Saved Jobs"}),a.jsx("hr",{className:"my-1"}),a.jsxs("button",{onClick:()=>{o(!1),f()},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(cp,{className:"w-4 h-4 inline mr-2"}),"Sign Out"]})]})]}):a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(me,{to:"/login",children:a.jsx(J,{variant:"ghost",children:"Sign In"})}),a.jsx(me,{to:"/signup",children:a.jsx(J,{children:"Sign Up"})})]})}),a.jsx("button",{onClick:()=>r(!n),className:"md:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:n?a.jsx(ca,{className:"w-6 h-6"}):a.jsx(A1,{className:"w-6 h-6"})})]}),n&&a.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:a.jsxs("div",{className:"flex flex-col space-y-4",children:[a.jsxs(me,{to:"/jobs",className:"text-gray-600 hover:text-gray-900 transition-colors flex items-center space-x-2",onClick:()=>r(!1),children:[a.jsx(ur,{className:"w-4 h-4"}),a.jsx("span",{children:"Jobs"})]}),a.jsxs(me,{to:"/companies",className:"text-gray-600 hover:text-gray-900 transition-colors flex items-center space-x-2",onClick:()=>r(!1),children:[a.jsx(cr,{className:"w-4 h-4"}),a.jsx("span",{children:"Companies"})]}),l&&a.jsxs(me,{to:"/saved-jobs",className:"text-gray-600 hover:text-gray-900 transition-colors flex items-center space-x-2",onClick:()=>r(!1),children:[a.jsx(Zn,{className:"w-4 h-4"}),a.jsx("span",{children:"Saved Jobs"})]}),a.jsx("hr",{className:"border-gray-200"}),l?a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(me,{to:"/profile",className:"text-gray-600 hover:text-gray-900 transition-colors flex items-center space-x-2",onClick:()=>r(!1),children:[a.jsx(Vu,{className:"w-4 h-4"}),a.jsx("span",{children:"Profile"})]}),a.jsxs("button",{onClick:()=>{r(!1),f()},className:"text-gray-600 hover:text-gray-900 transition-colors flex items-center space-x-2 text-left",children:[a.jsx(cp,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign Out"})]})]}):a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx(me,{to:"/login",onClick:()=>r(!1),children:a.jsx(J,{variant:"ghost",className:"w-full justify-start",children:"Sign In"})}),a.jsx(me,{to:"/signup",onClick:()=>r(!1),children:a.jsx(J,{className:"w-full",children:"Sign Up"})})]})]})})]})})}function Nj(){return a.jsx("footer",{className:"bg-gray-900 text-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"H1B"})}),a.jsx("span",{className:"text-xl font-bold",children:"H1B Friendly"})]}),a.jsx("p",{className:"text-gray-300 max-w-md",children:"Find H1B-friendly job opportunities with companies that have a proven track record of sponsoring international talent. Your career journey starts here."}),a.jsxs("div",{className:"flex space-x-4 mt-6",children:[a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(E1,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(U1,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(O1,{className:"w-5 h-5"})}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(Ng,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(me,{to:"/jobs",className:"text-gray-300 hover:text-white transition-colors",children:"Browse Jobs"})}),a.jsx("li",{children:a.jsx(me,{to:"/companies",className:"text-gray-300 hover:text-white transition-colors",children:"H1B Companies"})}),a.jsx("li",{children:a.jsx(me,{to:"/saved-jobs",className:"text-gray-300 hover:text-white transition-colors",children:"Saved Jobs"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"H1B Resources"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Support"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Help Center"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Contact Us"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),a.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"© 2024 H1B Friendly Jobs. All rights reserved."}),a.jsx("p",{className:"text-gray-400 text-sm mt-4 md:mt-0",children:"Data sourced from USCIS and Department of Labor public records."})]})]})})}function kj(){const{data:n,isLoading:r}=ht({queryKey:["featured-jobs"],queryFn:async()=>{const{data:s,error:o}=await le.from("jobs").select("*").eq("h1b_sponsorship_available",!0).eq("is_active",!0).order("h1b_sponsorship_confidence",{ascending:!1}).limit(6);if(o)throw o;return s}});return r?a.jsx("section",{className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Featured H1B Jobs"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((s,o)=>a.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),a.jsx("div",{className:"h-20 bg-gray-200 rounded mb-4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]},o))})]})}):a.jsx("section",{className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Featured H1B Jobs"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover the latest opportunities from companies with strong H1B sponsorship track records."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:n==null?void 0:n.map(s=>{const o=tl(s.h1b_sponsorship_available,s.h1b_sponsorship_confidence);return a.jsx(me,{to:`/jobs/${s.id}`,className:"block",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-all duration-200 hover:-translate-y-1 h-full",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 line-clamp-2",children:s.title}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[a.jsx(cr,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"font-medium",children:s.company_name})]})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsx("span",{className:`h1b-badge ${o.color}`,children:o.text}),s.experience_level&&a.jsx("span",{className:`experience-badge ${dd(s.experience_level)}`,children:s.experience_level}),s.remote_friendly&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Remote OK"})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.location&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(er,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:s.location})]}),(s.salary_min||s.salary_max)&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(ei,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:oi(s.salary_min,s.salary_max)})]}),s.posted_date&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zo,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:ya(s.posted_date)})]})]}),s.description&&a.jsxs("p",{className:"text-gray-600 text-sm mt-4 line-clamp-3",children:[s.description.substring(0,120),"..."]})]})},s.id)})}),a.jsx("div",{className:"text-center",children:a.jsx(me,{to:"/jobs?h1b=true",children:a.jsx(J,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:"View All H1B Jobs"})})})]})})}function Sj(){const{data:n,isLoading:r}=ht({queryKey:["top-companies"],queryFn:async()=>{const{data:s,error:o}=await le.from("companies").select("*").eq("h1b_sponsor_status","active").not("approval_rate","is",null).order("total_h1b_approvals",{ascending:!1}).limit(8);if(o)throw o;return s}});return r?a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Top H1B Sponsors"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((s,o)=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 animate-pulse",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg mb-4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},o))})]})}):a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Top H1B Sponsors"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Explore companies with the highest H1B approval rates and sponsorship volumes."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:n==null?void 0:n.map(s=>{var o;return a.jsx(me,{to:`/companies/${s.id}`,className:"block",children:a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 hover:bg-gray-100 transition-colors hover:shadow-md",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[s.logo_url?a.jsx("img",{src:s.logo_url,alt:`${s.name} logo`,className:"w-12 h-12 rounded-lg object-cover mr-3",onError:l=>{var d;const u=l.target;u.style.display="none",(d=u.nextElementSibling)==null||d.classList.remove("hidden")}}):null,a.jsx("div",{className:`w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-sm ${s.logo_url?"hidden":""}`,children:s.name.substring(0,2).toUpperCase()}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm line-clamp-1",children:s.name}),s.industry&&a.jsx("p",{className:"text-gray-600 text-xs",children:s.industry})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Approval Rate"}),a.jsx("span",{className:"font-semibold text-green-600",children:s.approval_rate?`${s.approval_rate.toFixed(1)}%`:"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Total Approvals"}),a.jsx("span",{className:"font-semibold text-blue-600",children:((o=s.total_h1b_approvals)==null?void 0:o.toLocaleString())||"N/A"})]}),s.location&&a.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[a.jsx(er,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"truncate",children:s.location})]})]}),a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:["Last Filing: ",s.last_h1b_filing_year]}),a.jsx("span",{className:"text-green-600 font-medium",children:"Active Sponsor"})]})})]})},s.id)})}),a.jsx("div",{className:"text-center",children:a.jsx(me,{to:"/companies",children:a.jsx(J,{size:"lg",variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:"View All Companies"})})})]})})}function Cj(){var o,l,u,d;const{data:n,isLoading:r}=ht({queryKey:["platform-statistics"],queryFn:async()=>{const{count:f}=await le.from("jobs").select("*",{count:"exact",head:!0}).eq("is_active",!0),{count:p}=await le.from("jobs").select("*",{count:"exact",head:!0}).eq("h1b_sponsorship_available",!0).eq("is_active",!0),{count:g}=await le.from("companies").select("*",{count:"exact",head:!0}),{count:y}=await le.from("companies").select("*",{count:"exact",head:!0}).eq("h1b_sponsor_status","active"),{data:x}=await le.from("companies").select("approval_rate").not("approval_rate","is",null),w=x&&x.length>0?x.reduce((P,_)=>P+(_.approval_rate||0),0)/x.length:0,{data:b}=await le.from("jobs").select("salary_min, salary_max").eq("h1b_sponsorship_available",!0).not("salary_min","is",null).not("salary_max","is",null),N=b&&b.length>0?b.reduce((P,_)=>{const $=((_.salary_min||0)+(_.salary_max||0))/2;return P+$},0)/b.length:0;return{totalJobs:f||0,h1bJobs:p||0,totalCompanies:g||0,activeSponsors:y||0,avgApprovalRate:Math.round(w*10)/10,avgSalary:Math.round(N/1e3)*1e3}}});if(r)return a.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"text-center mb-12",children:a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Platform Statistics"})}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:Array.from({length:6}).map((f,p)=>a.jsxs("div",{className:"bg-white rounded-lg p-6 text-center animate-pulse",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg mx-auto mb-4"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-16 mx-auto mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mx-auto"})]},p))})]})});const s=[{icon:a.jsx(ii,{className:"w-8 h-8 text-blue-600"}),value:((o=n==null?void 0:n.totalJobs)==null?void 0:o.toLocaleString())||"0",label:"Total Jobs",color:"from-blue-500 to-blue-600"},{icon:a.jsx(Xn,{className:"w-8 h-8 text-green-600"}),value:((l=n==null?void 0:n.h1bJobs)==null?void 0:l.toLocaleString())||"0",label:"H1B Jobs",color:"from-green-500 to-green-600"},{icon:a.jsx(cr,{className:"w-8 h-8 text-purple-600"}),value:((u=n==null?void 0:n.totalCompanies)==null?void 0:u.toLocaleString())||"0",label:"Companies",color:"from-purple-500 to-purple-600"},{icon:a.jsx(el,{className:"w-8 h-8 text-indigo-600"}),value:((d=n==null?void 0:n.activeSponsors)==null?void 0:d.toLocaleString())||"0",label:"Active Sponsors",color:"from-indigo-500 to-indigo-600"},{icon:a.jsx(Xn,{className:"w-8 h-8 text-yellow-600"}),value:`${(n==null?void 0:n.avgApprovalRate)||0}%`,label:"Avg Approval Rate",color:"from-yellow-500 to-yellow-600"},{icon:a.jsx(ei,{className:"w-8 h-8 text-emerald-600"}),value:n!=null&&n.avgSalary?`$${(n.avgSalary/1e3).toFixed(0)}k`:"$0",label:"Avg Salary",color:"from-emerald-500 to-emerald-600"}];return a.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-indigo-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Platform Statistics"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Real-time data from our comprehensive H1B jobs and companies database."})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:s.map((f,p)=>a.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${f.color} rounded-lg flex items-center justify-center mx-auto mb-4`,children:a.jsx("div",{className:"text-white",children:f.icon})}),a.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1",children:f.value}),a.jsx("div",{className:"text-sm text-gray-600",children:f.label})]},p))}),a.jsx("div",{className:"mt-12 text-center",children:a.jsx("p",{className:"text-gray-600",children:"Data updated in real-time from USCIS and Department of Labor sources"})})]})})}function Ej(){const[n,r]=O.useState(""),[s,o]=O.useState(""),l=vs(),u=d=>{d.preventDefault();const f=new URLSearchParams;n&&f.set("q",n),s&&f.set("location",s),f.set("h1b","true"),l(`/jobs?${f.toString()}`)};return a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("section",{className:"relative bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 text-white overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 lg:py-32",children:a.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[a.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:["Find Your Dream Job with",a.jsx("span",{className:"block bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"H1B Sponsorship"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-blue-100 mb-8 leading-relaxed",children:"Connect with top companies that actively sponsor H1B visas. Access verified sponsorship data and find opportunities that match your skills."}),a.jsx("form",{onSubmit:u,className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 md:p-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ur,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Job title, keywords...",value:n,onChange:d=>r(d.target.value),className:"w-full pl-12 pr-4 py-4 bg-white text-gray-900 rounded-xl border-0 focus:ring-2 focus:ring-yellow-400 outline-none text-lg"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(er,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"City, state, or remote",value:s,onChange:d=>o(d.target.value),className:"w-full pl-12 pr-4 py-4 bg-white text-gray-900 rounded-xl border-0 focus:ring-2 focus:ring-yellow-400 outline-none text-lg"})]}),a.jsx(J,{type:"submit",size:"lg",className:"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-black font-semibold py-4 px-8 rounded-xl text-lg transition-all duration-200 shadow-lg hover:shadow-xl",children:"Search H1B Jobs"})]})})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-12",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:"15,000+"}),a.jsx("div",{className:"text-blue-200",children:"Active Jobs"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:"500+"}),a.jsx("div",{className:"text-blue-200",children:"H1B Companies"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:"92%"}),a.jsx("div",{className:"text-blue-200",children:"Success Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:"50k+"}),a.jsx("div",{className:"text-blue-200",children:"Job Seekers"})]})]})]})})]}),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose H1B Friendly?"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We provide the most comprehensive database of H1B-friendly employers with verified sponsorship data."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center p-8 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-50 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:a.jsx(Xn,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Verified H1B Data"}),a.jsx("p",{className:"text-gray-600",children:"Access real government data from USCIS and DOL showing actual H1B approval rates and sponsorship history."})]}),a.jsxs("div",{className:"text-center p-8 rounded-2xl bg-gradient-to-br from-green-50 to-emerald-50 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:a.jsx(el,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Smart Job Matching"}),a.jsx("p",{className:"text-gray-600",children:"Our algorithm matches you with opportunities based on your skills, experience, and H1B sponsorship likelihood."})]}),a.jsxs("div",{className:"text-center p-8 rounded-2xl bg-gradient-to-br from-purple-50 to-violet-50 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:a.jsx(ii,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Community Support"}),a.jsx("p",{className:"text-gray-600",children:"Join a community of international professionals sharing experiences and insights about the H1B process."})]})]})]})}),a.jsx(Cj,{}),a.jsx(kj,{}),a.jsx(Sj,{}),a.jsx("section",{className:"py-20 bg-gradient-to-r from-gray-900 to-blue-900 text-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Start Your H1B Journey?"}),a.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join thousands of professionals who have found their dream jobs with H1B sponsorship through our platform."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(J,{size:"lg",className:"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-black font-semibold px-8 py-4 text-lg",onClick:()=>l("/jobs?h1b=true"),children:[a.jsx(Yo,{className:"w-5 h-5 mr-2"}),"Browse H1B Jobs"]}),a.jsxs(J,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-gray-900 px-8 py-4 text-lg",onClick:()=>l("/companies"),children:[a.jsx(cr,{className:"w-5 h-5 mr-2"}),"Explore Companies"]})]})]})})]})}function Lg({job:n,showSaveButton:r=!0,isSaved:s=!1}){const{user:o}=Tr(),l=ys(),[u,d]=O.useState(s),f=tl(n.h1b_sponsorship_available,n.h1b_sponsorship_confidence),p=Sr({mutationFn:async()=>{if(!o)throw new Error("Must be logged in to save jobs");const{data:{user:y},error:x}=await le.auth.getUser();if(x||!y)throw new Error("Authentication expired. Please sign in again.");if(u){const{error:w}=await le.from("saved_jobs").delete().eq("user_id",y.id).eq("job_id",n.id);if(w)throw new Error(`Failed to remove job: ${w.message}`)}else{const{error:w}=await le.from("saved_jobs").insert({user_id:y.id,job_id:n.id,saved_at:new Date().toISOString()});if(w)throw w.code==="23505"?new Error("Job is already saved"):new Error(`Failed to save job: ${w.message}`)}},onSuccess:()=>{d(!u),l.invalidateQueries({queryKey:["saved-jobs"]}),G.success(u?"Job removed from saved jobs":"Job saved successfully")},onError:y=>{y.message.includes("Authentication expired")?G.error("Please sign in again to save jobs"):y.message.includes("Job is already saved")?G.error("This job is already in your saved jobs"):G.error(y.message||"Failed to save job")}}),g=y=>{if(y.preventDefault(),y.stopPropagation(),!o){G.error("Please sign in to save jobs");return}p.mutate()};return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-all duration-200 hover:border-gray-300",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx(me,{to:`/jobs/${n.id}`,className:"flex-1",children:a.jsx("h3",{className:"font-semibold text-lg text-gray-900 hover:text-blue-600 transition-colors line-clamp-2",children:n.title})}),r&&a.jsx(J,{variant:"ghost",size:"sm",onClick:g,disabled:p.isPending,className:"ml-2 p-2 hover:bg-gray-100",children:u?a.jsx(jg,{className:"w-5 h-5 text-blue-600"}):a.jsx(Zn,{className:"w-5 h-5 text-gray-400"})})]}),a.jsxs(me,{to:`/companies/${n.company_id}`,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-3",children:[a.jsx(cr,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"font-medium",children:n.company_name})]})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsx("span",{className:`h1b-badge ${f.color}`,children:f.text}),n.experience_level&&a.jsx("span",{className:`experience-badge ${dd(n.experience_level)}`,children:n.experience_level}),n.remote_friendly&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Remote OK"}),n.job_type&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:n.job_type})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm text-gray-600 mb-4",children:[n.location&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(er,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("span",{className:"truncate",children:n.location})]}),(n.salary_min||n.salary_max)&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(ei,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("span",{children:oi(n.salary_min,n.salary_max)})]}),n.posted_date&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zo,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("span",{children:ya(n.posted_date)})]})]}),n.description&&a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:n.description.length>200?`${n.description.substring(0,200)}...`:n.description}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[a.jsx(me,{to:`/jobs/${n.id}`,children:a.jsx(J,{variant:"outline",size:"sm",children:"View Details"})}),n.source_url&&a.jsxs("a",{href:n.source_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-blue-600 hover:text-blue-800 transition-colors",children:[a.jsx(la,{className:"w-4 h-4 mr-1"}),"Apply on company site"]})]})]})}const Pj=["Entry","Mid","Senior"],Tj=["Technology","Finance","Healthcare","Media & Entertainment","Automotive","Consulting","Education","Manufacturing","Retail","Real Estate"],Oj=["full-time","part-time","contract","internship"];function Rj({filters:n,onFiltersChange:r}){const[s,o]=O.useState(new Set(["h1b","experience"])),l=p=>{const g=new Set(s);g.has(p)?g.delete(p):g.add(p),o(g)},u=(p,g)=>{if(Array.isArray(n[p])){const y=n[p],x=y.includes(g)?y.filter(w=>w!==g):[...y,g];r({...n,[p]:x})}else r({...n,[p]:g})},d=(p,g)=>{r({...n,[p]:g})},f=({title:p,id:g,children:y})=>{const x=s.has(g);return a.jsxs("div",{className:"border-b border-gray-200 last:border-b-0",children:[a.jsxs("button",{onClick:()=>l(g),className:"w-full flex items-center justify-between py-3 text-left",children:[a.jsx("span",{className:"font-medium text-gray-900",children:p}),x?a.jsx(S1,{className:"w-4 h-4 text-gray-500"}):a.jsx(_1,{className:"w-4 h-4 text-gray-500"})]}),x&&a.jsx("div",{className:"pb-4",children:y})]})};return a.jsxs("div",{className:"space-y-0",children:[a.jsx(f,{title:"H1B Sponsorship",id:"h1b",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:n.h1bSponsorship,onChange:p=>u("h1bSponsorship",p.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"H1B Sponsorship Available"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:n.remoteWork,onChange:p=>u("remoteWork",p.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Remote Work"})]})]})}),a.jsx(f,{title:"Experience Level",id:"experience",children:a.jsx("div",{className:"space-y-2",children:Pj.map(p=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:n.experienceLevel.includes(p),onChange:g=>u("experienceLevel",p),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:p})]},p))})}),a.jsx(f,{title:"Industry",id:"industry",children:a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Tj.map(p=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:n.industry.includes(p),onChange:g=>u("industry",p),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:p})]},p))})}),a.jsx(f,{title:"Job Type",id:"jobType",children:a.jsx("div",{className:"space-y-2",children:Oj.map(p=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:n.jobType.includes(p),onChange:g=>u("jobType",p),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:p.replace("-"," ")})]},p))})}),a.jsx(f,{title:"Salary Range",id:"salary",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Minimum Salary"}),a.jsxs("select",{value:n.salaryMin,onChange:p=>d("salaryMin",p.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Any"}),a.jsx("option",{value:"50000",children:"$50,000+"}),a.jsx("option",{value:"75000",children:"$75,000+"}),a.jsx("option",{value:"100000",children:"$100,000+"}),a.jsx("option",{value:"125000",children:"$125,000+"}),a.jsx("option",{value:"150000",children:"$150,000+"}),a.jsx("option",{value:"200000",children:"$200,000+"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Maximum Salary"}),a.jsxs("select",{value:n.salaryMax,onChange:p=>d("salaryMax",p.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Any"}),a.jsx("option",{value:"100000",children:"$100,000"}),a.jsx("option",{value:"150000",children:"$150,000"}),a.jsx("option",{value:"200000",children:"$200,000"}),a.jsx("option",{value:"250000",children:"$250,000"}),a.jsx("option",{value:"300000",children:"$300,000"}),a.jsx("option",{value:"500000",children:"$500,000+"})]})]})]})})]})}const Xi=20;function Aj(){const[n,r]=Sv(),[s,o]=O.useState(!1),[l,u]=O.useState(1),[d,f]=O.useState({query:n.get("q")||"",location:n.get("location")||"",h1bSponsorship:n.get("h1b")==="true",experienceLevel:n.getAll("experience")||[],industry:n.getAll("industry")||[],jobType:n.getAll("type")||[],remoteWork:n.get("remote")==="true",salaryMin:n.get("salary_min")||"",salaryMax:n.get("salary_max")||""});O.useEffect(()=>{const C=new URLSearchParams;d.query&&C.set("q",d.query),d.location&&C.set("location",d.location),d.h1bSponsorship&&C.set("h1b","true"),d.remoteWork&&C.set("remote","true"),d.salaryMin&&C.set("salary_min",d.salaryMin),d.salaryMax&&C.set("salary_max",d.salaryMax),d.experienceLevel.forEach(M=>C.append("experience",M)),d.industry.forEach(M=>C.append("industry",M)),d.jobType.forEach(M=>C.append("type",M)),r(C)},[d,r]);const{data:p}=ht({queryKey:["jobs-count",JSON.stringify(d)],queryFn:async()=>{let C=le.from("jobs").select("id",{count:"exact"}).eq("is_active",!0);d.query&&(C=C.or(`title.ilike.%${d.query}%,description.ilike.%${d.query}%,company_name.ilike.%${d.query}%`)),d.location&&(C=C.or(`location.ilike.%${d.location}%,city.ilike.%${d.location}%,state.ilike.%${d.location}%`)),d.h1bSponsorship&&(C=C.eq("h1b_sponsorship_available",!0)),d.experienceLevel.length>0&&(C=C.in("experience_level",d.experienceLevel)),d.industry.length>0&&(C=C.in("industry",d.industry)),d.jobType.length>0&&(C=C.in("job_type",d.jobType)),d.remoteWork&&(C=C.eq("remote_friendly",!0)),d.salaryMin&&(C=C.gte("salary_min",parseInt(d.salaryMin))),d.salaryMax&&(C=C.lte("salary_max",parseInt(d.salaryMax)));const{count:M,error:ee}=await C;if(ee)throw ee;return M||0},refetchOnWindowFocus:!1,staleTime:1e3*60*5}),{data:g,isLoading:y,error:x,refetch:w}=ht({queryKey:["jobs",JSON.stringify(d),l],queryFn:async()=>{let C=le.from("jobs").select("*").eq("is_active",!0).order("posted_date",{ascending:!1});d.query&&(C=C.or(`title.ilike.%${d.query}%,description.ilike.%${d.query}%,company_name.ilike.%${d.query}%`)),d.location&&(C=C.or(`location.ilike.%${d.location}%,city.ilike.%${d.location}%,state.ilike.%${d.location}%`)),d.h1bSponsorship&&(C=C.eq("h1b_sponsorship_available",!0)),d.experienceLevel.length>0&&(C=C.in("experience_level",d.experienceLevel)),d.industry.length>0&&(C=C.in("industry",d.industry)),d.jobType.length>0&&(C=C.in("job_type",d.jobType)),d.remoteWork&&(C=C.eq("remote_friendly",!0)),d.salaryMin&&(C=C.gte("salary_min",parseInt(d.salaryMin))),d.salaryMax&&(C=C.lte("salary_max",parseInt(d.salaryMax)));const M=(l-1)*Xi,ee=M+Xi-1,{data:ge,error:he}=await C.range(M,ee);if(he)throw he;return ge},refetchOnWindowFocus:!1,staleTime:1e3*60*5});O.useEffect(()=>{u(1)},[d]),O.useEffect(()=>{w()},[d,w]);const b=C=>{C.preventDefault()},N=()=>{f({query:"",location:"",h1bSponsorship:!1,experienceLevel:[],industry:[],jobType:[],remoteWork:!1,salaryMin:"",salaryMax:""}),u(1)},P=p||0,_=Math.ceil(P/Xi),$=(l-1)*Xi+1,H=Math.min(l*Xi,P),L=C=>{u(C),window.scrollTo({top:0,behavior:"smooth"})},D=[d.h1bSponsorship,d.remoteWork,d.experienceLevel.length>0,d.industry.length>0,d.jobType.length>0,d.salaryMin,d.salaryMax].filter(Boolean).length;return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Find H1B Jobs"}),a.jsx("p",{className:"text-gray-600",children:"Discover opportunities with companies that sponsor H1B visas"})]}),a.jsx("form",{onSubmit:b,className:"mb-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Job title, company, keywords...",value:d.query,onChange:C=>f(M=>({...M,query:C.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(er,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"City, state, or remote",value:d.location,onChange:C=>f(M=>({...M,location:C.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),a.jsx(J,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 py-3",children:"Search Jobs"})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(J,{variant:"outline",onClick:()=>o(!s),className:"flex items-center space-x-2",children:[a.jsx(_g,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"}),D>0&&a.jsx("span",{className:"bg-blue-600 text-white text-xs px-2 py-1 rounded-full",children:D})]}),D>0&&a.jsxs(J,{variant:"ghost",onClick:N,className:"text-gray-600 hover:text-gray-900",children:[a.jsx(ca,{className:"w-4 h-4 mr-1"}),"Clear all"]})]})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s&&a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 sticky top-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),a.jsx(J,{variant:"ghost",size:"sm",onClick:()=>o(!1),className:"lg:hidden",children:a.jsx(ca,{className:"w-4 h-4"})})]}),a.jsx(Rj,{filters:d,onFiltersChange:f})]})}),a.jsxs("div",{className:`${s?"lg:col-span-3":"lg:col-span-4"}`,children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:y?"Loading...":`${P} jobs found`}),!y&&P>0&&a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Showing ",$,"-",H," of ",P," jobs"]}),d.h1bSponsorship&&a.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Showing only H1B sponsorship available positions"})]})}),y?a.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((C,M)=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-pulse",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"})]})}),a.jsx("div",{className:"h-20 bg-gray-200 rounded mb-4"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),a.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})]})]},M))}):x?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-600",children:"Error loading jobs. Please try again."})}):g&&g.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-4",children:g.map(C=>a.jsx(Lg,{job:C},C.id))}),_>1&&a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 mt-8",children:[a.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[a.jsx(J,{onClick:()=>L(l-1),disabled:l===1,variant:"outline",size:"sm",children:"Previous"}),a.jsx(J,{onClick:()=>L(l+1),disabled:l===_,variant:"outline",size:"sm",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:$})," to"," ",a.jsx("span",{className:"font-medium",children:H})," of"," ",a.jsx("span",{className:"font-medium",children:P})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[a.jsxs(J,{onClick:()=>L(l-1),disabled:l===1,variant:"outline",size:"sm",className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(N1,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:Math.min(_,7)},(C,M)=>{let ee;return _<=7||l<=4?ee=M+1:l>=_-3?ee=_-6+M:ee=l-3+M,a.jsx(J,{onClick:()=>L(ee),variant:l===ee?"default":"outline",size:"sm",className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold",children:ee},ee)}),a.jsxs(J,{onClick:()=>L(l+1),disabled:l===_,variant:"outline",size:"sm",className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(k1,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(cr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No jobs found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or filters"}),a.jsx(J,{onClick:N,variant:"outline",children:"Clear all filters"})]})]})]})})]})}const hu=[{type:"positive",label:"Accurate & Helpful",icon:a.jsx(Bu,{className:"w-4 h-4"}),color:"text-green-600 bg-green-50 border-green-200 hover:bg-green-100",description:"This job posting is accurate and H1B-friendly"},{type:"not_h1b_friendly",label:"Not H1B Friendly",icon:a.jsx(Hu,{className:"w-4 h-4"}),color:"text-red-600 bg-red-50 border-red-200 hover:bg-red-100",description:"This company does not sponsor H1B visas"},{type:"incorrect_company",label:"Wrong Company Info",icon:a.jsx(Jo,{className:"w-4 h-4"}),color:"text-orange-600 bg-orange-50 border-orange-200 hover:bg-orange-100",description:"Company name or details are incorrect"},{type:"outdated",label:"Outdated Posting",icon:a.jsx(ca,{className:"w-4 h-4"}),color:"text-gray-600 bg-gray-50 border-gray-200 hover:bg-gray-100",description:"This job posting is no longer available"},{type:"duplicate",label:"Duplicate Job",icon:a.jsx(Jo,{className:"w-4 h-4"}),color:"text-purple-600 bg-purple-50 border-purple-200 hover:bg-purple-100",description:"This job is duplicated in the system"},{type:"inappropriate",label:"Inappropriate Content",icon:a.jsx(Hu,{className:"w-4 h-4"}),color:"text-red-600 bg-red-50 border-red-200 hover:bg-red-100",description:"Contains inappropriate or misleading content"}];function Lj({jobId:n,currentH1BStatus:r,currentConfidence:s}){var _,$,H;const{user:o}=Tr(),l=ys(),[u,d]=O.useState(null),[f,p]=O.useState(""),[g,y]=O.useState(!1),{data:x}=ht({queryKey:["job-feedback",n],queryFn:async()=>{if(!o)return null;const{data:{session:L}}=await le.auth.getSession();if(!L)return null;const D=await fetch(`https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/job-feedback-handler?job_id=${n}`,{headers:{Authorization:`Bearer ${L.access_token}`,"Content-Type":"application/json"}});if(!D.ok)throw new Error("Failed to fetch feedback data");return D.json()},enabled:!!o&&!!n}),w=Sr({mutationFn:async({feedbackType:L,feedbackReason:D})=>{var ee;if(!o)throw new Error("Must be logged in to submit feedback");const{data:{session:C}}=await le.auth.getSession();if(!C)throw new Error("No active session");const M=await fetch("https://qogxbfgkrtullrvjgrrf.supabase.co/functions/v1/job-feedback-handler",{method:"POST",headers:{Authorization:`Bearer ${C.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({job_id:n,feedback_type:L,reason:D,additional_info:{h1b_status_when_reported:r,confidence_when_reported:s}})});if(!M.ok){const ge=await M.json();throw new Error(((ee=ge.error)==null?void 0:ee.message)||"Failed to submit feedback")}return M.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["job-feedback",n]}),G.success("Thank you for your feedback! This helps improve our data quality."),y(!1),d(null),p("")},onError:L=>{G.error(L.message||"Failed to submit feedback")}}),b=()=>{if(!u){G.error("Please select a feedback type");return}w.mutate({feedbackType:u,feedbackReason:f})},N=(_=x==null?void 0:x.data)==null?void 0:_.stats,P=($=x==null?void 0:x.data)==null?void 0:$.user_feedback;return o?a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Job Quality Feedback"}),N&&a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Bu,{className:"w-4 h-4 mr-1 text-green-600"}),N.positive_count]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(dp,{className:"w-4 h-4 mr-1 text-red-600"}),N.negative_count]}),N.h1b_accuracy_score<.8&&a.jsx("span",{className:"text-orange-600 font-medium",children:"Under Review"})]})]}),P?a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Xo,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("span",{className:"font-medium text-blue-900",children:"Thank you for your feedback!"})]}),a.jsxs("p",{className:"text-sm text-blue-700",children:["You reported this job as: ",a.jsx("strong",{children:(H=hu.find(L=>L.type===P.feedback_type))==null?void 0:H.label})]}),P.reason&&a.jsxs("p",{className:"text-sm text-blue-600 mt-1 italic",children:['"',P.reason,'"']}),a.jsx(J,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"mt-3",children:"Update Feedback"})]}):a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"Help us improve job quality by reporting any issues with this posting."}),g?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:hu.map(L=>a.jsxs("button",{onClick:()=>d(L.type),className:`p-3 rounded-lg border-2 text-left transition-all ${u===L.type?L.color+" ring-2 ring-offset-2 ring-current":"border-gray-200 hover:border-gray-300"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[L.icon,a.jsx("span",{className:"font-medium",children:L.label})]}),a.jsx("p",{className:"text-sm text-gray-600",children:L.description})]},L.type))}),u&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"feedback-reason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional details (optional)"}),a.jsx("textarea",{id:"feedback-reason",value:f,onChange:L=>p(L.target.value),placeholder:"Please provide any additional context that would help us improve this job posting...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(J,{onClick:b,disabled:w.isPending,className:"flex items-center space-x-2",children:[a.jsx($1,{className:"w-4 h-4"}),a.jsx("span",{children:w.isPending?"Submitting...":"Submit Feedback"})]}),a.jsx(J,{variant:"outline",onClick:()=>{y(!1),d(null),p("")},children:"Cancel"})]})]})]}):a.jsxs(J,{onClick:()=>y(!0),variant:"outline",className:"flex items-center space-x-2",children:[a.jsx(Jo,{className:"w-4 h-4"}),a.jsx("span",{children:"Report Issue or Give Feedback"})]})]}),N&&N.recent_feedback&&N.recent_feedback.length>0&&a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Recent Community Feedback"}),a.jsx("div",{className:"space-y-2",children:N.recent_feedback.slice(0,3).map((L,D)=>{var C;return a.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[a.jsx("div",{className:`p-1 rounded ${L.feedback_type==="positive"?"bg-green-100":"bg-red-100"}`,children:L.feedback_type==="positive"?a.jsx(Bu,{className:"w-3 h-3 text-green-600"}):a.jsx(dp,{className:"w-3 h-3 text-red-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-medium",children:(C=hu.find(M=>M.type===L.feedback_type))==null?void 0:C.label}),L.reason&&a.jsx("p",{className:"text-gray-600 text-xs mt-1",children:L.reason}),a.jsx("p",{className:"text-gray-400 text-xs",children:new Date(L.created_at).toLocaleDateString()})]})]},D)})})]})]}):a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"Help improve our data quality"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to report job accuracy"})]})}function Ij(){const{id:n}=Jp(),{user:r}=Tr(),s=ys(),[o,l]=O.useState(!1),{data:u,isLoading:d}=ht({queryKey:["job",n],queryFn:async()=>{if(!n)throw new Error("Job ID is required");const{data:b,error:N}=await le.from("jobs").select("*").eq("id",n).maybeSingle();if(N)throw N;if(!b)throw new Error("Job not found");return b},enabled:!!n}),{data:f}=ht({queryKey:["company",u==null?void 0:u.company_id],queryFn:async()=>{if(!(u!=null&&u.company_id))return null;const{data:b,error:N}=await le.from("companies").select("*").eq("id",u.company_id).maybeSingle();if(N)throw N;return b},enabled:!!(u!=null&&u.company_id)}),{data:p}=ht({queryKey:["saved-job",n,r==null?void 0:r.id],queryFn:async()=>{if(!r||!n)return null;const{data:b,error:N}=await le.from("saved_jobs").select("*").eq("user_id",r.id).eq("job_id",n).maybeSingle();if(N)throw N;return b},enabled:!!r&&!!n});O.useEffect(()=>{l(!!p)},[p]);const{data:g}=ht({queryKey:["similar-jobs",u==null?void 0:u.company_name,u==null?void 0:u.industry],queryFn:async()=>{if(!u)return[];const{data:b,error:N}=await le.from("jobs").select("*").neq("id",u.id).eq("is_active",!0).or(`company_name.eq.${u.company_name},industry.eq.${u.industry}`).limit(4);if(N)throw N;return b},enabled:!!u}),y=Sr({mutationFn:async()=>{if(!r||!n)throw new Error("Must be logged in to save jobs");if(o){const{error:b}=await le.from("saved_jobs").delete().eq("user_id",r.id).eq("job_id",n);if(b)throw b}else{const{error:b}=await le.from("saved_jobs").insert({user_id:r.id,job_id:n,saved_at:new Date().toISOString()});if(b)throw b}},onSuccess:()=>{l(!o),s.invalidateQueries({queryKey:["saved-jobs"]}),G.success(o?"Job removed from saved jobs":"Job saved successfully")},onError:b=>{G.error(b.message||"Failed to save job")}}),x=()=>{if(!r){G.error("Please sign in to save jobs");return}y.mutate()};if(d)return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-6"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})})});if(!u)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Job not found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The job you're looking for doesn't exist or has been removed."}),a.jsx(me,{to:"/jobs",children:a.jsx(J,{children:"Browse Jobs"})})]})});const w=tl(u.h1b_sponsorship_available,u.h1b_sponsorship_confidence);return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(me,{to:"/jobs",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[a.jsx(ld,{className:"w-4 h-4 mr-2"}),"Back to jobs"]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:u.title}),a.jsxs(me,{to:`/companies/${u.company_id}`,className:"flex items-center text-xl text-gray-700 hover:text-gray-900 transition-colors mb-4",children:[a.jsx(cr,{className:"w-5 h-5 mr-2"}),u.company_name]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[a.jsx("span",{className:`h1b-badge ${w.color}`,children:w.text}),u.experience_level&&a.jsx("span",{className:`experience-badge ${dd(u.experience_level)}`,children:u.experience_level}),u.remote_friendly&&a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:"Remote OK"}),u.job_type&&a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:u.job_type})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 ml-6",children:[a.jsxs(J,{variant:"outline",onClick:x,disabled:y.isPending,className:"flex items-center space-x-2",children:[o?a.jsx(jg,{className:"w-4 h-4"}):a.jsx(Zn,{className:"w-4 h-4"}),a.jsx("span",{children:o?"Saved":"Save Job"})]}),u.source_url&&a.jsx("a",{href:u.source_url,target:"_blank",rel:"noopener noreferrer",children:a.jsxs(J,{className:"flex items-center space-x-2",children:[a.jsx(la,{className:"w-4 h-4"}),a.jsx("span",{children:"Apply Now"})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-sm",children:[u.location&&a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(er,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:u.location})]}),(u.salary_min||u.salary_max)&&a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(ei,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:oi(u.salary_min,u.salary_max)})]}),u.posted_date&&a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(Zo,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Posted ",ya(u.posted_date)]})]}),u.expires_date&&a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(cd,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Expires ",bj(u.expires_date)]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[u.description&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Job Description"}),a.jsx("div",{className:"prose prose-gray max-w-none",children:a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:u.description})})]}),u.requirements&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Requirements"}),a.jsx("div",{className:"prose prose-gray max-w-none",children:a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:u.requirements})})]}),a.jsx(Lj,{jobId:u.id,currentH1BStatus:u.h1b_sponsorship_available,currentConfidence:u.h1b_sponsorship_confidence})]}),a.jsxs("div",{className:"space-y-8",children:[f&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["About ",f.name]}),a.jsxs("div",{className:"flex items-center mb-4",children:[f.logo_url?a.jsx("img",{src:f.logo_url,alt:`${f.name} logo`,className:"w-12 h-12 rounded-lg object-cover mr-3"}):a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold mr-3",children:f.name.substring(0,2).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:f.name}),f.industry&&a.jsx("p",{className:"text-sm text-gray-600",children:f.industry})]})]}),f.description&&a.jsx("p",{className:"text-gray-700 text-sm mb-4 line-clamp-4",children:f.description}),a.jsxs("div",{className:"space-y-3 text-sm",children:[f.approval_rate&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-gray-600 flex items-center",children:[a.jsx(Xn,{className:"w-4 h-4 mr-1"}),"H1B Approval Rate"]}),a.jsxs("span",{className:"font-semibold text-green-600",children:[f.approval_rate.toFixed(1),"%"]})]}),f.total_h1b_approvals&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-gray-600 flex items-center",children:[a.jsx(ii,{className:"w-4 h-4 mr-1"}),"Total H1B Approvals"]}),a.jsx("span",{className:"font-semibold text-blue-600",children:f.total_h1b_approvals.toLocaleString()})]}),f.size_category&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Company Size"}),a.jsx("span",{className:"font-medium text-gray-900",children:f.size_category})]})]}),a.jsx(me,{to:`/companies/${f.id}`,className:"block mt-4",children:a.jsx(J,{variant:"outline",className:"w-full",children:"View Company Profile"})})]}),g&&g.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Similar Jobs"}),a.jsx("div",{className:"space-y-3",children:g.map(b=>a.jsx(me,{to:`/jobs/${b.id}`,className:"block",children:a.jsxs("div",{className:"p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[a.jsx("h4",{className:"font-medium text-gray-900 text-sm line-clamp-2 mb-1",children:b.title}),a.jsx("p",{className:"text-gray-600 text-xs mb-2",children:b.company_name}),b.location&&a.jsxs("p",{className:"text-gray-500 text-xs flex items-center",children:[a.jsx(er,{className:"w-3 h-3 mr-1"}),b.location]})]})},b.id))})]})]})]})]})})}function $j(){const[n,r]=O.useState(""),[s,o]=O.useState("approvals"),{data:l,isLoading:u}=ht({queryKey:["companies",n,s],queryFn:async()=>{let f=le.from("companies").select("*").eq("h1b_sponsor_status","active");switch(n&&(f=f.or(`name.ilike.%${n}%,industry.ilike.%${n}%,location.ilike.%${n}%`)),s){case"approvals":f=f.order("total_h1b_approvals",{ascending:!1});break;case"rate":f=f.order("approval_rate",{ascending:!1});break;case"name":f=f.order("name",{ascending:!0});break}const{data:p,error:g}=await f.limit(100);if(g)throw g;return p}}),d=f=>{f.preventDefault()};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"H1B Sponsor Companies"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Explore companies with proven H1B sponsorship track records. Find employers who actively support international talent."})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("form",{onSubmit:d,className:"mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search companies, industries, locations...",value:n,onChange:f=>r(f.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),a.jsxs("select",{value:s,onChange:f=>o(f.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[a.jsx("option",{value:"approvals",children:"Most H1B Approvals"}),a.jsx("option",{value:"rate",children:"Highest Approval Rate"}),a.jsx("option",{value:"name",children:"Company Name (A-Z)"})]})]})})})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:12}).map((f,p)=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-pulse",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg mr-4"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},p))}):l&&l.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:[l.length," Active H1B Sponsors"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Companies with recent H1B sponsorship activity"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(f=>{var p;return a.jsx(me,{to:`/companies/${f.id}`,className:"block",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-all duration-200 hover:border-gray-300 h-full",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[f.logo_url?a.jsx("img",{src:f.logo_url,alt:`${f.name} logo`,className:"w-16 h-16 rounded-lg object-cover mr-4",onError:g=>{var x;const y=g.target;y.style.display="none",(x=y.nextElementSibling)==null||x.classList.remove("hidden")}}):null,a.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg mr-4 ${f.logo_url?"hidden":""}`,children:f.name.substring(0,2).toUpperCase()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900 truncate",children:f.name}),f.industry&&a.jsx("p",{className:"text-gray-600 text-sm truncate",children:f.industry})]})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-gray-600 text-sm flex items-center",children:[a.jsx(Xn,{className:"w-4 h-4 mr-1"}),"Approval Rate"]}),a.jsx("span",{className:"font-semibold text-green-600",children:f.approval_rate?`${f.approval_rate.toFixed(1)}%`:"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-gray-600 text-sm flex items-center",children:[a.jsx(el,{className:"w-4 h-4 mr-1"}),"Total Approvals"]}),a.jsx("span",{className:"font-semibold text-blue-600",children:((p=f.total_h1b_approvals)==null?void 0:p.toLocaleString())||"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-gray-600 text-sm flex items-center",children:[a.jsx(ii,{className:"w-4 h-4 mr-1"}),"Company Size"]}),a.jsx("span",{className:"font-medium text-gray-900 text-sm",children:f.size_category||"Not specified"})]}),f.location&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(er,{className:"w-4 h-4 mr-1 text-gray-400"}),a.jsx("span",{className:"text-gray-600 text-sm truncate",children:f.location})]})]}),f.description&&a.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:f.description}),a.jsx("div",{className:"pt-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:["Last Filing: ",f.last_h1b_filing_year||"N/A"]}),a.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full font-medium",children:"Active Sponsor"})]})})]})},f.id)})})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(cr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No companies found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria"}),a.jsx(J,{onClick:()=>r(""),variant:"outline",children:"Clear search"})]})})]})}function Mj(){var g,y;const{id:n}=Jp(),{data:r,isLoading:s}=ht({queryKey:["company",n],queryFn:async()=>{if(!n)throw new Error("Company ID is required");const{data:x,error:w}=await le.from("companies").select("*").eq("id",n).maybeSingle();if(w)throw w;if(!x)throw new Error("Company not found");return x},enabled:!!n}),{data:o,isLoading:l}=ht({queryKey:["company-jobs",r==null?void 0:r.name],queryFn:async()=>{if(!(r!=null&&r.name))return[];const{data:x,error:w}=await le.from("jobs").select("*").eq("company_name",r.name).eq("is_active",!0).order("posted_date",{ascending:!1}).limit(20);if(w)throw w;return x},enabled:!!(r!=null&&r.name)}),{data:u,isLoading:d}=ht({queryKey:["company-h1b-history",r==null?void 0:r.name],queryFn:async()=>{if(!(r!=null&&r.name))return[];const{data:x,error:w}=await le.from("h1b_history").select("*").eq("company_name",r.name).order("filing_year",{ascending:!1}).limit(50);if(w)throw w;return x},enabled:!!(r!=null&&r.name)});if(s)return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 animate-pulse",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg mr-6"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})})});if(!r)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Company not found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The company you're looking for doesn't exist."}),a.jsx(me,{to:"/companies",children:a.jsx(J,{children:"Browse Companies"})})]})});const f=(u==null?void 0:u.reduce((x,w)=>(x.totalFilings+=1,w.case_status==="Certified"&&(x.approvals+=1),x.byYear[w.filing_year]||(x.byYear[w.filing_year]={total:0,approved:0}),x.byYear[w.filing_year].total+=1,w.case_status==="Certified"&&(x.byYear[w.filing_year].approved+=1),w.wage_rate_from&&x.wages.push(w.wage_rate_from),x),{totalFilings:0,approvals:0,byYear:{},wages:[]}))||{totalFilings:0,approvals:0,wages:[]},p=f.wages.length>0?f.wages.reduce((x,w)=>x+w,0)/f.wages.length:0;return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(me,{to:"/companies",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[a.jsx(ld,{className:"w-4 h-4 mr-2"}),"Back to companies"]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[r.logo_url?a.jsx("img",{src:r.logo_url,alt:`${r.name} logo`,className:"w-20 h-20 rounded-lg object-cover mr-6",onError:x=>{var b;const w=x.target;w.style.display="none",(b=w.nextElementSibling)==null||b.classList.remove("hidden")}}):null,a.jsx("div",{className:`w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-2xl mr-6 ${r.logo_url?"hidden":""}`,children:r.name.substring(0,2).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:r.name}),r.industry&&a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:r.industry}),r.location&&a.jsxs("div",{className:"flex items-center text-gray-600",children:[a.jsx(er,{className:"w-5 h-5 mr-2"}),a.jsx("span",{children:r.location})]})]})]}),r.website_url&&a.jsx("a",{href:r.website_url,target:"_blank",rel:"noopener noreferrer",children:a.jsxs(J,{className:"flex items-center space-x-2",children:[a.jsx(la,{className:"w-4 h-4"}),a.jsx("span",{children:"Visit Website"})]})})]}),r.description&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"About"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg mx-auto mb-2",children:a.jsx(Xn,{className:"w-6 h-6 text-green-600"})}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.approval_rate?`${r.approval_rate.toFixed(1)}%`:"N/A"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Approval Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg mx-auto mb-2",children:a.jsx(el,{className:"w-6 h-6 text-blue-600"})}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:((g=r.total_h1b_approvals)==null?void 0:g.toLocaleString())||"N/A"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Approvals"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg mx-auto mb-2",children:a.jsx(ii,{className:"w-6 h-6 text-purple-600"})}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.size_category||"N/A"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Company Size"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-yellow-100 rounded-lg mx-auto mb-2",children:a.jsx(cd,{className:"w-6 h-6 text-yellow-600"})}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.last_h1b_filing_year||"N/A"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Last H1B Filing"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Current Openings"}),l?a.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((x,w)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),a.jsx("div",{className:"h-20 bg-gray-200 rounded"})]},w))}):o&&o.length>0?a.jsx("div",{className:"space-y-4",children:o.map(x=>a.jsx(Lg,{job:x},x.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Yo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"No current job openings at this company."})]})]}),u&&u.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"H1B Filing History"}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:f.approvals}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Approvals"})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:f.totalFilings}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Filings"})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:p>0?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(p):"N/A"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Avg. Wage"})]})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Year"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wage"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.slice(0,10).map((x,w)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.filing_year}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.job_title||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.case_status==="Certified"?"bg-green-100 text-green-800":x.case_status==="Denied"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:x.case_status||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.work_location||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.wage_rate_from?oi(x.wage_rate_from,x.wage_rate_to):"N/A"})]},w))})]})}),u.length>10&&a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Showing 10 of ",u.length," H1B filing records"]})})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Industry"}),a.jsx("span",{className:"font-medium text-gray-900",children:r.industry||"Not specified"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"H1B Status"}),a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r.h1b_sponsor_status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.h1b_sponsor_status==="active"?"Active Sponsor":"Inactive"})]}),o&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Open Positions"}),a.jsx("span",{className:"font-medium text-gray-900",children:o.length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Total H1B Petitions"}),a.jsx("span",{className:"font-medium text-gray-900",children:((y=r.total_h1b_petitions)==null?void 0:y.toLocaleString())||"N/A"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(me,{to:`/jobs?company=${encodeURIComponent(r.name)}`,className:"block",children:a.jsx(J,{variant:"outline",className:"w-full",children:"View All Jobs"})}),r.website_url&&a.jsx("a",{href:r.website_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:a.jsxs(J,{variant:"outline",className:"w-full",children:[a.jsx(la,{className:"w-4 h-4 mr-2"}),"Company Website"]})})]})]})]})]})]})})}function Fj(){const{user:n}=Tr(),r=ys(),[s,o]=O.useState(""),[l,u]=O.useState("all"),{data:d,isLoading:f}=ht({queryKey:["saved-jobs",n==null?void 0:n.id],queryFn:async()=>{if(!n)throw new Error("Not authenticated");const{data:b,error:N}=await le.from("saved_jobs").select(`
